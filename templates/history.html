{% extends 'base.html' %}

{% block hero %}
<div class="modern-hero">
  <h1>Document History</h1>
  <p>Manage and access your previous Army memos</p>
</div>
{% endblock %}

{% block content %}
<div class="container">
  {% if documents %}
    <div class="grid grid-cols-1 gap-6">
      {% for document in documents %}
      <div class="modern-card">
        <div class="modern-card-header">
          <h3 class="modern-card-title document-title" data-url="{{ url_for('get_document', document_id=document.id, form_editor=true) }}">
            {{ document.content }}
          </h3>
          <p class="modern-card-description">{{ document.preview }}</p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <button class="modern-btn modern-btn-outline classic-editor-button" data-url="{{ url_for('get_document', document_id=document.id, form_editor=false) }}">
            ğŸ“ Classic Editor
          </button>
          <button class="modern-btn modern-btn-secondary form-editor-button" data-url="{{ url_for('get_document', document_id=document.id, form_editor=true) }}">
            ğŸ“‹ Form Editor
          </button>
          <button class="modern-btn modern-btn-outline delete-document-button" data-url="{{ url_for('delete_document', document_id=document.id) }}" style="color: var(--color-error); border-color: var(--color-error);">
            ğŸ—‘ï¸ Delete
          </button>
        </div>
      </div>
      {% endfor %}  
    </div>
  {% else %}
    <div class="modern-card text-center">
      <div class="modern-card-header">
        <h3 class="modern-card-title">No Documents Found</h3>
        <p class="modern-card-description">You haven't created any memos yet. Start by creating your first memo!</p>
      </div>
      <div class="mt-6">
        <a href="/" class="modern-btn modern-btn-primary">Create Your First Memo</a>
      </div>
    </div>
  {% endif %}
</div>

<script src="{{ url_for('static', filename='history.js') }}"></script>

{% endblock %}
